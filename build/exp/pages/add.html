<#escape x as (x)!> 
<#assign base=request.contextPath />
<html>
	<head>
		<base id="base" href="${base}">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>直播管理</title>
		<link href="${base}/static/css/style.css" rel="stylesheet" type="text/css">
		<link href="${base}/static/css/select.css" rel="stylesheet" type="text/css" />
		<script type="text/javascript" src="${base}/static/js/jquery-1.8.2.js"></script>
		<script type="text/javascript" src="${base}/static/js/pager.js"></script>
		<script type="text/javascript" src="${base}/static/js/jquery.idTabs.min.js"></script>
		<script type="text/javascript" src="${base}/static/js/select-ui.min.js"></script> 
		<script type="text/javascript" src="${base}/static/lib/layer/layer.js"></script>
		<script language="javascript" type="text/javascript">
			$(document).ready(function(e) {
			    $(".select1").uedSelect({
					width : 200			  
				});
			});
			
			
			function sub(){
				   /* var param = $("#liveroomform").serialize();
				   $.ajax({
				   		type: "POST",
					   	url: "liveroom/add.html",
					   	data: param,
					   	dataType:"json",
					   	success: function(msg){
					   		alert(msg.message);
					   	   //var index = parent.layer.getFrameIndex(window.name); //获取窗口索引
					   	   //parent.layer.close(index);
					   	   window.parent.location.reload();
					   	}
					}); */
					
					
					var inputs = $(":input[required='required']");
					// 不需要校验，直接提交
					if(inputs==null || inputs.length==0){
						$("#liveroomform").submit(); 
						return;
					}
					// 需要校验
					var pass = true;
					inputs.each(function(){
						if($(this).val()==""){
							alert($(this).attr("message"));
							$(this).focus();
							pass = false;
							return false;
						}
					});
					if(pass){
					   $("#liveroomform").submit(); 
					}
				}
				 
				function goBack(){
					//var index = parent.layer.getFrameIndex(window.name); //获取窗口索引
					//parent.layer.close(index);
					$("#backFrm").submit();
				}
			
			/* function banks(liveroom_name){
				layer.open({
			        type: 2,
			        title: liveroom_name+'的银行卡',
			        maxmin: true,
			        shadeClose: true, //点击遮罩关闭层
			        area : ['1200px' , '800'],
			        content: 'liveroombank!index.htm?liveroom_name='+liveroom_name
			    });
			} */
		
		</script>
	</head>
<body>
<body>

	<form id="backFrm" action="${base}/exp/liveroom/list.do" method="post">
		<#if queryParams??>
			<#list queryParams?keys as key>
				<input type="hidden" name="${key}" value="${queryParams[key]}"/>
			</#list>
		</#if>
	</form>

	<div class="place">
		    <span>位置：</span>
		    <ul class="placeul">
		    <li><a href="${base}/exp/liveroom/list.do>直播管理</a></li>
		    <li><a href="#"><#if liveroom??>编辑直播<#else>添加直播</#if></a></li>
		    </ul>
		</div>
		  
		 <div class="formbody">
		    
		    <div class="formtitle"><span><#if liveroom??>编辑直播<#else>添加直播</#if></span></div>
		    <form action="${base}/exp/liveroom/add.do" name="liveroomform" id="liveroomform"  method="post">
        	<input type="hidden" name="id" id="id" value="${liveroom.id}"/>
		    <ul class="forminfo">
		    
		     <li><label>财拍ID:</label><input id="userid" name="userid" type="text" class="dfinput" value="${liveroom.userid}" /></li>

<li><label>聊天室ID:</label><input id="roomid" name="roomid" type="text" class="dfinput" value="${liveroom.roomid}" /></li>

<li><label>云信ID:</label><input id="creator" name="creator" type="text" class="dfinput" value="${liveroom.creator}" /></li>

<li><label>聊天室名:</label><input id="name" name="name" type="text" class="dfinput" value="${liveroom.name}" /></li>

<li><label>状态:</label><input id="valid" name="valid" type="text" class="dfinput" value="${liveroom.valid}" /></li>

<li><label>公告:</label><input id="announcement" name="announcement" type="text" class="dfinput" value="${liveroom.announcement}" /></li>

<li><label>直播地址:</label><input id="broadcasturl" name="broadcasturl" type="text" class="dfinput" value="${liveroom.broadcasturl}" /></li>

<li><label>在线人数:</label><input id="onlineusercount" name="onlineusercount" type="text" class="dfinput" value="${liveroom.onlineusercount}" /></li>

<li><label>总人数:</label><input id="totalusercount" name="totalusercount" type="text" class="dfinput" value="${liveroom.totalusercount}" /></li>

<li><label>图标:</label><input id="icon" name="icon" type="text" class="dfinput" value="${liveroom.icon}" /></li>

<li><label>直播频道ID:</label><input id="cid" name="cid" type="text" class="dfinput" value="${liveroom.cid}" /></li>

<li><label>频道创建时间:</label><input id="ctime" name="ctime" type="text" class="dfinput" value="${liveroom.ctime}" /></li>

<li><label>推流地址:</label><input id="pushurl" name="pushurl" type="text" class="dfinput" value="${liveroom.pushurl}" /></li>

<li><label>http拉流地址:</label><input id="httppullurl" name="httppullurl" type="text" class="dfinput" value="${liveroom.httppullurl}" /></li>

<li><label>hls拉流地址:</label><input id="hlspullurl" name="hlspullurl" type="text" class="dfinput" value="${liveroom.hlspullurl}" /></li>

<li><label>rtmp拉流地址:</label><input id="rtmppullurl" name="rtmppullurl" type="text" class="dfinput" value="${liveroom.rtmppullurl}" /></li>

<li><label>扩展字段:</label><input id="ext" name="ext" type="text" class="dfinput" value="${liveroom.ext}" /></li>

<li><label>创建时间:</label><input id="create_time" name="create_time" type="text" class="dfinput" value="${liveroom.create_time}" /></li>

<li><label>更新时间:</label><input id="update_time" name="update_time" type="text" class="dfinput" value="${liveroom.update_time}" /></li>


		     
		     <li><label>&nbsp;</label>
		   		<input type="button" class="btn" onclick="sub();" value="提交">
		   		<input type="button" class="btn" onclick="goBack();"  value="取消">
			</li>
		    </ul>
		    
		    </form>
		</div>
</body>
</html>
</#escape>